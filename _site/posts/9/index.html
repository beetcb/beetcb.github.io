<!DOCTYPE html>
<html lang="en"><head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta name="description" content="a beginer theme based blog project with 11ty">
	    <title>beet-11ty</title>
	    <link rel="stylesheet" href="/src/css/my.css">
	    <link rel="stylesheet" href="/src/css/prism-dracula.css">
	    <link rel="shortcut icon" href="/src/favicon.ico" type="image/x-icon">
	    <script defer src="/src/js/my.js"></script>
	    </head><body>
		<main class="main">
		
	<article style="margin: 0 auto" class="article">
	    <h1 class="title">对ECMAScript数据类型的理解</h1>
	    <div class="content">
		<h3>数据类型和值</h3>
<p>一门语言是用来储存和传递信息的，在计算机世界中，这些信息一般叫做 <code>value</code> ; 再把 <code>value</code> 分类，产生了<code>data types</code>(数据类型)</p>
<p>先斗胆康康官方 spec 的规定：</p>
<blockquote>
<p>The ECMAScript language types are <code>Undefined, Null, Boolean, String, Symbol, Number, BigInt, and Object.</code> An ECMAScript language <code>value is a value that is characterized by an ECMAScript language type.</code></p>
</blockquote>
<p>嗯，应该很直观</p>
<p><img src="https://tvax4.sinaimg.cn/large/005K67iLgy1gffvyod1b2g30b4063tru.gif" alt="谁说直观的！！"></p>
<p>ES 数据类型: 可分为 <code>原始类型(primitive)</code> 、<code>对象(引用类型)</code>  , 一个变量的类型可以动态变化，可在声明后改变(这说明了JS是一种弱类型、动态类型的语言)：</p>
<blockquote>
<ul>
<li>
<p>原始类型即上面提到的 <code>undefined, null, boolean, string, symbol, number, bigInt</code></p>
<p>原始类型没有属性，如果不注意的话，会报错</p>
<p>TypeError</p>
<p>=&gt; cannot read property ... of undefined</p>
</li>
<li>
<p>对象(引用类型) ：</p>
<p>我们的对象大法在 JS 语言里囊括万物</p>
<p>一个简单的解释就是：对象是属性和方法(方法提供了操作对象的接口)的集合，属性又可以包含基本类型和引用类型。</p>
</li>
</ul>
</blockquote>
<p>ES 值：对一个数据类型来说，值与之对应，是可以直观认识这种数据类型的方式</p>
<blockquote>
<ol>
<li>原始值( primitive values )：</li>
</ol>
<p>原始类型的值都是原始值( 值本身无法被改变 =&gt;  immutable value)，存储于 stack 栈内存空间</p>
<p>来看一个列子：</p>
<p><code>let instanceP = 22;instanceP = 222;</code> 代码执行时，<code>22</code>这个原始值会储存在当前作用域下( 属于 stack 栈内存空间 ) ，当变量<code>instanceP</code>声明后，把值关联给变量( 赋值过程 )。</p>
<p>把<code>222</code> 赋值给变量时， <code>22</code> 并不会变化，因为num属于原始值，<code>222</code> 只能创建一个新的栈内存空间，重复如上的赋值过程</p>
<ol start="2">
<li>引用值( reference values ):</li>
</ol>
<p>对象类型的值即引用值，存储于 heap 堆内存空间</p>
<p>附带一个可以访问的<code>16进制地址</code> (该地址一般放在栈内存中，作为对象的指针，用于引用对象)</p>
<ol start="3">
<li>通俗理解</li>
</ol>
<p>原始值占的内存小，不需要重复利用，值不允许改变；</p>
<p>而引用值一般是一大坨东西，需要重复利用免得浪费</p>
</blockquote>
<h4>Undefined</h4>
<p><code>value: undefined</code> =&gt; 未定义</p>
<p>未赋值的变量都有 <code>undefined</code> 这个值</p>
<p>控制台输入一个<code>没有返回值的语句</code> 返回undefined</p>
<p><img src="https://tva3.sinaimg.cn/large/005K67iLgy1gfh0xoznjoj30c4053gln.jpg" alt="console"></p>
<h4>Null</h4>
<p><code>value: null</code>  =&gt; 空</p>
<p>比如<code>querySelector('#box')</code>  如果没有 id 为 box 的元素，则为<code>null</code></p>
<h4>Boolean</h4>
<p><code>value: true/false</code> =&gt; 逻辑判断 (真假)</p>
<pre class="language-js"><code class="language-js"><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=> false</span><br><span class="token comment">// 0/NaN/null/undefined/空str => 转换为boolean为false，其他都为true</span></code></pre>
<h4>String</h4>
<p><code>value: a set of &quot;elements&quot; of 16-bit unsigned integer values</code> =&gt; 字符串</p>
<p>'apple' 及 &quot;pie&quot; 表示文本数据 : 简单说由引号包裹的内容都视为字符串</p>
<h4>Number （Numeric Types）</h4>
<p><code>value: The Number type has exactly 18437736874454810627ℝ (that is, 2ℝ64ℝ - 2ℝ53ℝ + 3ℝ) values</code> =&gt; 数字</p>
<blockquote>
<p>也就是 2ℝ64ℝ - 2ℝ53ℝ + （<strong>+∞</strong>）+ （<strong>-∞</strong> ）+ NaN</p>
</blockquote>
<blockquote>
<p>其中 2ℝ64ℝ - 2ℝ53ℝ 为有限数（ finite number）</p>
</blockquote>
<p>其中的特殊value：</p>
<ul>
<li>
<p>正无穷 positive Infinity ：<strong>+∞</strong></p>
</li>
<li>
<p>负无穷 negative Infinity ：<strong>-∞</strong></p>
</li>
<li>
<p>NaN =&gt; 不是一个有效的数字</p>
<p>isNaN() 方法可以判断是否 不是一个有效的数字</p>
</li>
<li>
<p>正零 positive zero：+0</p>
</li>
<li>
<p>负零 negative zero：-0</p>
</li>
</ul>
<h4>BigInt （Numeric Types）</h4>
<p><code>value: arbitrary precision integer</code>  =&gt; 大数字</p>
<p>创建方法：</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> bigInt <span class="token operator">=</span> <span class="token number">1234567890123456789012345678901234567890n</span><span class="token punctuation">;</span><br><span class="token comment">// 方式一：数字末尾加n</span><br><span class="token keyword">const</span> sameBigint <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">"1234567890123456789012345678901234567890"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// 方式二：用BigInt()构造，注意字符串</span></code></pre>
<p>注意：</p>
<pre class="language-js"><code class="language-js"><span class="token number">1n</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span><br><span class="token comment">// 报错，不能混用</span><br><span class="token comment">// 只能用 BigInt() 和 Number() 来相互转化</span></code></pre>
<h4>Symbol</h4>
<p><code>value: <strong>unique</strong> and <strong>immutable</strong> primitive value/non-String value</code></p>
<p>常用于对象属性名(key)</p>
<hr>
<h4>Object</h4>
<p><code>value:  属性的集合或[特殊的Object]</code></p>
<h5>属性(Properties) ：</h5>
<p>① 属性名 (key)</p>
<p>只能是 str 或 Symbol</p>
<p>② 属性值 (value)</p>
<p>可以是任何数据类型</p>
<blockquote>
<p>两种已规定值的属性</p>
<ul>
<li>data property</li>
<li>accessor property</li>
</ul>
</blockquote>
<p>③ 创建方式</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><br>	key<span class="token operator">:</span> value<span class="token punctuation">,</span><br>	age<span class="token operator">:</span><span class="token number">99</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//多组键值对 </span><br><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>④ 一些特殊的对象</p>
<ol>
<li>
<p>functions</p>
<p>Functions are regular objects with the additional capability of being <em>callable</em>.</p>
<p>函数只是可以被调用（未调用时，作为字符串储存起来）的对象,一个可以重复使用的功能体</p>
<p>$ 创建方法：</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">funcOpt1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// function body</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">funcOpt2</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// function body</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">let</span> <span class="token function-variable function">funcOpt3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span><br>	<span class="token comment">//func Body</span><br><span class="token punctuation">}</span><br><span class="token function">funcOpt3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// call this function</span></code></pre>
<p>$ 用于函数调用的形参和实参：</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// 此处的参数叫做形参: 入口，形参是变量(two 和 two2)</span><br><span class="token keyword">function</span> <span class="token function">sumUp</span><span class="token punctuation">(</span><span class="token parameter">two<span class="token punctuation">,</span>two2</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token comment">// 此处传递的是实参：实参是具体的数据值</span><br><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">//按照次序形参变量接收</span></code></pre>
</li>
<li>
<p>Array</p>
<p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array">Arrays</a> are regular objects for which there is a particular relationship between integer-key-ed properties and the <code>length</code> property</p>
<p>以数字为属性名索引、包含length属性的对象</p>
<p><img src="https://tvax4.sinaimg.cn/large/005K67iLgy1gfg662h445j30da05c0sw.jpg" alt="console"></p>
<p>$ 创建方法：</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
</li>
<li>
<p>Typed Array (类数组)</p>
</li>
</ol>
<p>比如由 <code>.getElementsByTagName('li')</code> 得到的 HTMLcollection</p>
<p><img src="https://cdn.jsdelivr.net/gh/beetcb/pic/a9/20200604131918.png" alt="console"></p>
<ol start="4">
<li>
<p>JSON</p>
</li>
<li>
<p>Date日期</p>
</li>
<li>
<p>...</p>
</li>
</ol>
<h4>判断数据类型的方法</h4>
<p>注意区分 <code>typeof</code> 和 <code>instanceof</code></p>
<h5><code>typeof</code></h5>
<p>用途：获得原始数据值的数据类型</p>
<p>返回值：原始数据类型、object、 function</p>
<p>比如：</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// 如果直接输出，输出的是字符串</span><br><span class="token keyword">typeof</span> <span class="token number">1</span> <span class="token punctuation">;</span><span class="token comment">// "number"</span><br><span class="token keyword">typeof</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">// "string"</span><br><span class="token keyword">typeof</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">// "boolean"</span><br><span class="token comment">// or </span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// number</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// string</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// boolean</span><br><br><span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// "function"</span><br><br><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// "object"</span></code></pre>
<p>问题：</p>
<p>①不能区分具体的Object类型</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "object"</span><br><span class="token keyword">typeof</span> <span class="token operator">/</span>foo<span class="token operator">/</span><span class="token punctuation">;</span><span class="token comment">// "object"</span></code></pre>
<p>②使用<code>new</code> 构造的数据都当成 &quot;object&quot;</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">;</span><br><span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">;</span></code></pre>
<p>③迷惑的<code>null</code></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// "object"</span></code></pre>
<p>注意：typeof 一般不会报错，一般返回undefined；但是遇到let造成的暂时性死区时，报错&quot;ReferenceError&quot;</p>
<p><img src="https://tva4.sinaimg.cn/large/005K67iLgy1gfh1jhf6mrj30f406kwex.jpg" alt="console"></p>
<h5><code>instanceof</code></h5>
<p>The <code>instanceof</code> operator tests whether the <code>prototype</code> property of a constructor appears anywhere in the prototype chain of an object<img src="https://tva3.sinaimg.cn/large/005K67iLgy1gfg7dzq9lcg306o06oq3a.gif" style="zoom:25%;" /></p>
<p>比如：</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">// true 解决问题①②</span><br><br><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true 可以识别自定义构造类 解决问题②</span><br><br><span class="token keyword">null</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span> <span class="token comment">// "false"  解决问题 ③</span></code></pre>
<p>一个经验易懂的解释</p>
<p><img src="https://tva3.sinaimg.cn/large/005K67iLgy1gfg8bmaok6j30gl104wi7.jpg" alt="stack overflow"></p>
<p>后续补充......</p>
<h4>参考</h4>
<ul>
<li><a href="https://tc39.es/ecma262/#sec-ecmascript-data-types-and-values">ECMAScript Language Types</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures">JavaScript data types and data structures</a></li>
<li>[<a href="https://segmentfault.com/a/1190000002789651"> JS 进阶 ] 基本类型 引用类型 简单赋值 对象引用</a></li>
</ul>

	    </div>
	    <div class="outline"></div>
	</article>

     
		</main>
		<footer class="footer">
				    <div class="footer-desc" style="font-size:14px">
			made with love&<a style="color: skyblue;" href="https://www.11ty.dev/"
			    target="_blank">11ty</a> by beet
		    </div>
		</footer>

	    </body></html>