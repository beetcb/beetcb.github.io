---
layout: post
title: è§£æ„èµ‹å€¼è¡¨è¾¾å¼å’Œ...æ“ä½œç¬¦
author: beet
post: "@12@"
date: 2020-07-08 19:34:13
nailimg: https://tcxzcc.gitee.io/src/nailimg/es.png
tags: JS
---

> è§£æ„èµ‹å€¼å’Œéƒ¨åˆ†`...`è¿ç®—ç¬¦æ˜¯ES6å¸¦æ¥çš„æ–°è¯­æ³•ç³–,  æœ‰äº†ä»–ä»¬, å¹³æ—¶çœ‹ä¼¼æ•´æ´çš„ä»£ç ç¬é—´ä¹Ÿå˜å¾—å†—ä½™äº†, å¿«æ¥å°è¯•ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–°è¯­æ³•å§

è¯æ¡åˆ—è¡¨(ç‚¹å‡»å‰å¾€ç›¸å…³æ–‡æ¡£)

| terms                                                        | translation |
| ------------------------------------------------------------ | ----------- |
| [Destructuring Assignment](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment) | è§£æ„èµ‹å€¼    |
| [Rest parameters](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters) | å‰©ä½™è¯­æ³•    |
| [Exotic Object](https://tc39.es/ecma262/#sec-ordinary-and-exotic-objects-behaviours) | ç‰¹å¼‚å¯¹è±¡    |
| [Standard Object](https://tc39.es/ecma262/#sec-standard-object) | æ ‡å‡†å¯¹è±¡    |
| [Spread syntax](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax) | å±•å¼€è¯­æ³•    |

#### è§£æ„èµ‹å€¼çš„åŸç†åŠè¯­æ³•

æˆ‘çš„ç†è§£: **è§£æ„éƒ½æ˜¯å¯¹æ ‡å‡†å¯¹è±¡çš„è§£æ„** 

**æ ‡å‡†å¯¹è±¡**: åŒ…å«æ™®é€šå¯¹è±¡å’Œç‰¹å¼‚å¯¹è±¡(`Array` `String object` ç­‰)

![image](https://tvax1.sinaimg.cn/large/005K67iLgy1ggl0fq9d0wj30jj06wt92.jpg)

å¦‚å›¾, **è§£æ„èµ‹å€¼çš„æ ¼å¼**å¯ä»¥é€šå†™ä¸º: 

<code>let {matchedKey: varName} = {key: balue}</code>

> `matchedKey` : ä¸`=`å³è¾¹å¯¹è±¡åŒ¹é…çš„é”®
>
> `varName` : ä½¿ç”¨letå£°æ˜çš„å˜é‡å
**å®é™…æ —å­ï¼Œå¯¹è±¡ä¸­å‡½æ•°è®¿é—®å¯¹è±¡é”®å€¼**
``` js
const chart = {
    price: 1000,
    name: 'sorb',
    isNew: true,
    getComputedPrice() {
        // å¯¹thisç»“æ„èµ‹å€¼ï¼Œæ–¹ä¾¿å‡½æ•°æ“ä½œ
        let {
            price,
            name,
            isNew
        } = this;
        isNew && (price *= 0.8);
        return price;
    }
}
```

çœ‹ä¼¼ä¾æ—§æœ‰ç‚¹å¤æ‚, å¹¶ä¸æ¯”å•è¡Œå•è¡Œæ¥å¾—è½»æ¾å¤šå°‘,å¥½åœ¨å¯ä»¥ç®€å†™

**ç¬¬ä¸€ç§ç®€å†™:** æŠŠ`varName` é»˜è®¤ä½œä¸º`matchedKey`, åªå†™`matchedKey` 

``` js
let {name} = obj;
```

**ç¬¬äºŒç§ç®€å†™:** æ•°ç»„æˆ–ç±»æ•°ç»„[ç”šè‡³è¯´ä¸€åˆ‡å¯éå†çš„æ•°æ®ç»“æ„] , (ä»å¯¹è±¡çš„è§’åº¦è¯´)ä¸ç”¨è®¾ç½®å±æ€§å, ç›´æ¥å†™å‡ºå˜é‡å => è¯­æ³•æ ¼å¼ä¸º:

`let [varName, varName2] = ary;` 

ç”±äºæ­¤ç±»æ•°æ®ç»“æ„çš„å¯éå†æ€§, ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªæˆå‘˜çš„é¡ºåºæ˜¯å¯ä»¥ç¡®å®šçš„, ä¸å¿…åŒ¹é…é”®åæˆ‘ä»¬ä¹Ÿå¯ä»¥è¾¾åˆ°ä¸€ä¸€å¯¹åº”çš„æ•ˆæœ

æ­¤å¤–, æ­£å› ä¸ºå®ƒæ˜¯æœ‰é¡ºåº[æˆ–è€…è¯´æœ‰ç´¢å¼•]å­˜åœ¨çš„æ ‡å‡†å¯¹è±¡, æ‰€ä»¥ä½¿ç”¨ `[]` æ¥åŒ…å›´ `varName` å°±æœ‰ç†å¯å¾ªäº†

*åˆ°è¿™é‡Œæœ‰äº›å°ç”œèœå¯èƒ½æœ‰ä¼šç–‘é—®äº†?* 

è¯¯è§£=> è¿™ç§ç®€å†™ä¹‹æ‰€ä»¥ä½¿ç”¨`[]` ,æ˜¯å› ä¸º`=`å³è¾¹æ˜¯æ•°ç»„, ä¸¤è¾¹æ ¼å¼éœ€è¦åŒ¹é…

çº æ­£=> ä½¿ç”¨ä¸¤å¼ å›¾åå¯¹è¿™ç§è§‚ç‚¹:

- `{}`ä¸`[]`å¹¶ä¸ä¸€å®šéœ€è¦åŒ¹é…

 ![](https://tvax3.sinaimg.cn/large/005K67iLgy1ggl1hkzmrgj30c8043wej.jpg)

- ä¸‹å›¾å†æ¬¡è¯æ˜æœ‰ç´¢å¼•å°±é€‚åˆç”¨`[]`è¡¨ç¤º

 ![image](https://tvax1.sinaimg.cn/large/005K67iLgy1ggl1rr04k9j30as077q36.jpg)

**ä¸è¿‡, å¤§å¯ä¸å¿…è¿‡äºçº ç»“, æ¯•ç«Ÿæœ‰äº†ç®€å†™, è°ä¼šåƒä¸Šå›¾ä¸€æ ·å’å­—å‘¢ğŸ˜‹** 

**ç¬¬äºŒç§ç®€å†™çš„å»¶ç”³:** ç±»æ¯”ç¬¬äºŒç§ç®€å†™æ–¹å¼, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç­‰å·å·¦å³ä¸€ä¸€å¯¹åº”æ¥å¯¹å¤šä¸ªå˜é‡èµ‹å€¼, è¯­æ³•æ ¼å¼ä¸º: 

``` js
let [name, sex, age] = ['beet', 'unknown', 99]
```

è¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„è§£æ„èµ‹å€¼, é€šè¿‡ä¸€è¡Œä»£ç , æˆ‘ä»¬åŒæ—¶å£°æ˜äº†`name` `sex` `age` ä¸‰ä¸ªå˜é‡, éå¸¸ç®€å•æ˜“ç”¨

**æ‰©å±•: è§£æ„ä¸åˆ°å€¼?**

å¦‚æœç»“æ„èµ‹å€¼è¯­å¥ä¸èƒ½ä¸`=`å³è¾¹æ ‡å‡†å¯¹è±¡åŒ¹é…, å˜é‡å€¼ä¸º`undefined`

ä¸€ä¸ªæç®€å•çš„ğŸŒ°:

![image](https://tvax1.sinaimg.cn/large/005K67iLgy1ggll8k4574j309s03gglk.jpg)

æˆ‘ä»¬å†æ¬¡å¯¹å˜é‡dè¿›è¡Œæ“ä½œ, ææœ‰å¯èƒ½ä¼šæŠ¥é”™, ä»¥è‡³ä¸‹æ–‡ä»£ç éœ€è¦æ¡ä»¶åˆ¤æ–­dçš„å€¼, ä¸å¿…çƒ¦æ¼, è§£æ„èµ‹å€¼å¯ä»¥è®©æˆ‘ä»¬æå‰åˆ¤æ–­: ä½¿ç”¨`é»˜è®¤å€¼` , å…¶è¯­æ³•å°±æ˜¯åœ¨å·¦è¾¹è§£æ„èµ‹å€¼è¯­å¥ç§ç»™å˜é‡èµ‹äºˆé»˜è®¤åˆå§‹å€¼

``` js
let [a, b, unmatchedKey = 4] = [2,3];
```



å½“è§£æ„å¤±è´¥, å˜é‡å€¼ä¸å†æ˜¯`undefined`, è€Œæ˜¯æˆ‘ä»¬è®¾ç½®çš„é»˜è®¤å€¼

æŠŠä¸Šé¢ä»£ç ä¼˜åŒ–ä¸€ä¸‹:

![image](https://tvax3.sinaimg.cn/large/005K67iLgy1gglliv0mwtj30b303ct8n.jpg)

æ‰€ä»¥, è§£æ„æ—¶çš„é»˜è®¤å€¼å¯ä»¥æ›¿ä»£ä¸¤ä¸ªè¯­å¥: åˆ¤æ–­å€¼æ˜¯å¦undefined => æ˜¯undefinedèµ‹äºˆåˆå§‹å€¼, è¿™åœ¨å‡½æ•°å½¢å‚èµ‹å€¼ä¸­æä¸ºå¥½ç”¨, æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹!

**æ‰©å±•: å‡½æ•°å½¢å‚çš„è§£æ„èµ‹å€¼**

å‡½æ•°å½¢å‚æ˜¯å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡, æ‰€ä»¥åŒæ ·å¯ä»¥è§£æ„èµ‹å€¼å¹¶è®¾ç½®é»˜è®¤å€¼, æ ¹æ®å½¢å‚èµ‹å€¼çš„åŸç†, æˆ‘ä»¬å¯ä»¥æƒ³è±¡æˆå¦‚ä¸‹è¯­æ³•æ ¼å¼

``` js
let [parameter1, parameter2] = [argument1, argument2];
// parameter => å½¢å‚
// argument  => å®å‚
```

æŠŠæ­¤è¡¨è¾¾å¼æŠ½è±¡åˆ°å‡½æ•°, æˆ‘ä»¬å¯ä»¥çŒœåˆ°å¯¹å½¢å‚è¿›è¡Œè§£æ„èµ‹å€¼çš„è¯­æ³•äº†

``` js
let foo = ([parameter1, parameter2]) => {
    console.log(`${parameter1 + parameter2}`);
}
foo([1,2]);
```

![image](https://tva2.sinaimg.cn/large/005K67iLgy1gglm5wb3baj30m005aglx.jpg)

é…åˆ`...`æ“ä½œç¬¦, è§£æ„èµ‹å€¼è¿˜æœ‰æ›´å¼ºçš„åŠŸèƒ½( è¯¦è§:[`...`æ“ä½œç¬¦](####`...`æ“ä½œç¬¦) )

#### `...`æ“ä½œç¬¦

å¯¹äºå¯éå†çš„æ•°æ®ç»“æ„, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`...` å¿«é€Ÿå®ç°`å¼€` `åˆ` ä¸¤ç§æ•ˆæœ 

##### **`å¼€` => å±•å¼€è¯­æ³•**  

1.å¯å°†å¯éå†çš„ç»“æ„[æŠŠå…¶ä¸­çš„æ¯ä¸€é¡¹å†…å®¹ç§°ä½œå­é¡¹]=>å±•å¼€ä¸ºä»¥é€—å·åˆ†éš”çš„å„ä¸ªå­é¡¹

``` js
console.log(...'str')// s t r
```

2.è¿˜å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡æ—¶, å°†å¯¹è±¡è¡¨è¾¾å¼æŒ‰key-valueçš„æ–¹å¼å±•å¼€

``` js
let cloneObj = {...obj}; 
```

<span style='color:lightcoral'>å…‹éš†æ•°ç»„å’Œå¯¹è±¡</span>

``` js
let ary = [1, 2, 3],
    cloneAry = [...ary];
console.log(ary, cloneAry);
// Array(3) [ 1, 2, 3 ] Array(3) [ 1, 2, 3 ]

let obj = {
    one: 1,
    two: 2
},
    cloneObj = {...obj};
console.log(obj, cloneObj);
// Object { one: 1, two: 2 } Object { one: 1, two: 2 }
```

> æ³¨æ„:
>
> `cloneAry`æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„, æŒ‡å‘ä¸€ä¸ªæ–°çš„å †å†…å­˜åœ°å€, `cloneAry` ä¸ `ary`äº’ä¸å½±å“, åŒç†, `cloneObj`ä¸åŸå¯¹è±¡ä¹Ÿä¸å½±å“



<span style='color:lightcoral'>æ•°ç»„æ–¹æ³•çš„å®ç°</span>

concat => array = [...array, ...ary];

unshift => ary = ['unshift item', ...ary];

push => ary = [...ary, 'push item'];

join(',') => ary = \`${[...ary]}\`;

å®ä¾‹: 

``` js
let array = ['a','b'], ary = [1,2];
array = [...array, ...ary];//concat
ary = [0, ...ary];// unshift
ary = [...ary, 3];// push
ary = `${[...ary]}`;// join(',')
```

![image](https://tva1.sinaimg.cn/large/005K67iLgy1ggls2fet2mj30e80bgwf8.jpg)

<span style='color:lightcoral'>å‡½æ•°ä¼ å‚(æ•°ç»„)ä¸è¿”å›</span>

**ä¼ å‚æ•°ç»„** : æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å±•å¼€è¯­æ³•æ›¿æ¢Function.prototype.apply()æ–¹æ³• 

``` js
let foo = () => console.log();
foo(...ary) === foo.apply(...ary);// => true
```

**æ•°ç»„è¿”å›ç»“æœçš„å±•å¼€è¾“å‡º :** å½“å‡½æ•°è¿”å›ç»“æœåŒ…å«å¤šé¡¹çš„æ—¶å€™, æˆ‘ä»¬å¸¸å¸¸æŠŠä»–ä»¬æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ç”¨äºè¿”å›è¾“å‡º, `...[]` å¯ä»¥æ›´åŠ ç›´è§‚åœ°è¾“å‡º

``` js
let foo = (a, b, c) => [a, b, c];
console.log(...foo(1, 2, 3));// 1 2 3
```

é…åˆç»“æ„èµ‹å€¼, æŠŠè¾“å‡ºçš„ç»“æœèµ‹äºˆå„ä¸ªå˜é‡

``` js
let foo = (a, b, c) => [a, b, c];
let [one, two, three] = [...foo(1,2,3)];
console.log(one, two, three);// 1 2 3
```



##### **`åˆ` => å‰©ä½™è¯­æ³•**

å¯å°†æœ‰åºä¸å®šæ•°é‡çš„å‚æ•°æŒ‰åºæ‹¼æˆä¸€ä¸ªæ•°ç»„ (å‡½æ•°ä¸­çš„å‰©ä½™è¯­æ³•æ˜¯æŠŠå®å‚æŒ‰éœ€æ‹¼æˆæ•°ç»„, å¦‚æœæ²¡æœ‰ä¼ å‚ => æ‹¼æˆç©ºæ•°ç»„)

è¯­æ³•: `let [...ary] = [1,2,3]` 

`ary`ä¸ºå˜é‡å

> **æ³¨æ„**: å¦‚æœå‡½æ•°ä½“æœ‰å¯¹è¿™ä¸ªæ•°ç»„çš„æ“ä½œ, æŠ¥é”™
>
> ![image](https://tvax1.sinaimg.cn/large/005K67iLgy1gglokuikayj30q10a50tq.jpg)

``` js
let foo = (...ary) => {
    console.log(ary);
    return (ary.reduce((plus, index) => plus + index))
};
foo(1, 2, 3);// Array(3) [ 1, 2, 3 ] 6
```

<span style='color:lightcoral'>æ•°ç»„æ–¹æ³•çš„å®ç°</span>

> æ³¨æ„: ç”±äº`...`å‰©ä½™è¿ç®—ç¬¦åªèƒ½æ”¾åœ¨è§£æ„èµ‹å€¼è¯­å¥çš„æœ«å°¾, æ‰€ä»¥æ“ä½œæ•°ç»„çš„æ–¹æ³•æœ‰é™, å®é™…ç”¨å¤„ä¸å¤§

shift => [, ...ary] = ary;

multi-shift => [,,, ...ary] = ary;

<span style='color:lightcoral'>æŠŠç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</span>

ç±»æ•°ç»„: `HTMLCollection` `Nodelist` `arguments`ç­‰

![image](https://tvax3.sinaimg.cn/large/005K67iLgy1gglt13alhaj30nk097jsm.jpg)

ç”¨å‰©ä½™è¯­æ³•è½¬æ¢æˆæ•°ç»„: 

![image](https://tva3.sinaimg.cn/large/005K67iLgy1gglt40uavej30qd08fgmr.jpg)

å€Ÿæ­¤æˆ‘ä»¬å¯ä»¥æ›¿æ¢æ‰`Array.prototype.slice.call(list)` æˆ–`Array.from(list)` 

<span style='color:lightcoral'>å‡½æ•°ä¼ å‚æ¥æ”¶</span>

å‡½æ•°æ™®é€šçš„ä¼ å‚(ä¸ä¼ æ•°ç»„)å¯ä»¥ä½¿ç”¨å‰©ä½™è¿ç®—ç¬¦æ¥æ”¶ä¼ è¿›æ¥çš„å®å‚

è¯­æ³•: `let foo = (...ary) => console.log(ary);`

å½“ç„¶, aryä½ç½®ä¹Ÿå¯ä»¥å˜ä¸ºè§£æ„èµ‹å€¼è¯­å¥

``` js
(foo = (...[a, b, c]) => {
    console.log(a, b, c);
})(1, 2, 3);// 1 2 3
```

---

<span style='color:lightcoral'>ç®­å¤´å‡½æ•°å–ä»£arguments</span>

é™¤äº†æ™®é€šå‡½æ•°å¯ä»¥ç”¨å‰©ä½™è¿ç®—ç¬¦

å½“ç„¶, è¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ç­‰å¾…æˆ‘ä»¬å»å°è¯•, å°±å¨å¨åˆ°è¿™å„¿, å¤§å®¶å¿«å»å®æ“æŠŠ ğŸ¤˜

